<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>SkillLens ‚Äî My Profile</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
:root{
  --bg:#00040f;--sidebar:#030918;
  --blue:#0052ff;--blue2:#3b82f6;--blue-glow:rgba(0,82,255,0.25);
  --cyan:#00c8ff;--violet:#8b5cf6;--green:#10b981;--orange:#f97316;
  --white:#fff;--gray:#8892a4;--gray2:#3d4a5c;
  --card:#060d1e;--card2:#070e22;
  --border:rgba(255,255,255,0.06);--border-blue:rgba(0,82,255,0.15);
}
html,body{height:100%;overflow:hidden;}
body{background:var(--bg);color:var(--white);font-family:'DM Sans',sans-serif;display:flex;cursor:none;}
#cur{position:fixed;width:8px;height:8px;background:var(--white);border-radius:50%;pointer-events:none;z-index:99999;transform:translate(-50%,-50%);}
#cur2{position:fixed;width:32px;height:32px;border:1px solid rgba(0,100,255,0.5);border-radius:50%;pointer-events:none;z-index:99998;transform:translate(-50%,-50%);transition:all 0.15s ease;}
.g-bc{background:linear-gradient(90deg,#60a5fa,#00c8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.g-vi{background:linear-gradient(135deg,#818cf8,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}

/* SIDEBAR */
.sidebar{width:240px;height:100vh;background:var(--sidebar);border-right:1px solid var(--border);display:flex;flex-direction:column;position:fixed;left:0;top:0;z-index:50;}
.sb-logo{padding:20px 20px 16px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;text-decoration:none;}
.lbox{width:28px;height:28px;background:linear-gradient(135deg,var(--blue),var(--cyan));border-radius:7px;display:grid;place-items:center;font-size:13px;flex-shrink:0;}
.logo-txt{font-family:'Syne',sans-serif;font-size:18px;font-weight:800;background:linear-gradient(135deg,#fff,#a5c8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.sb-profile{padding:16px 20px;border-bottom:1px solid var(--border);}
.sb-av{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--blue),var(--cyan));display:grid;place-items:center;font-family:'Syne',sans-serif;font-weight:800;font-size:18px;margin-bottom:10px;box-shadow:0 0 20px var(--blue-glow);}
.sb-name{font-family:'Syne',sans-serif;font-size:14px;font-weight:700;margin-bottom:2px;}
.sb-badge{display:inline-flex;padding:2px 8px;border-radius:100px;font-size:10px;font-weight:600;background:rgba(0,82,255,0.12);color:var(--blue2);border:1px solid rgba(0,82,255,0.2);margin-bottom:10px;}
.prog-bar{height:4px;background:rgba(255,255,255,0.06);border-radius:2px;overflow:hidden;}
.prog-fill{height:100%;border-radius:2px;background:linear-gradient(90deg,var(--blue),var(--cyan));}
.sb-progress{font-size:11px;color:var(--gray);margin-bottom:6px;}
.sb-nav{flex:1;padding:12px 10px;overflow-y:auto;}
.sb-nav::-webkit-scrollbar{display:none;}
.nav-section{font-size:10px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--gray2);padding:8px 10px 4px;}
.nav-item{display:flex;align-items:center;gap:10px;padding:9px 12px;border-radius:8px;cursor:none;transition:all 0.2s;color:var(--gray);font-size:13px;font-weight:400;text-decoration:none;position:relative;margin-bottom:2px;}
.nav-item:hover{background:rgba(255,255,255,0.04);color:var(--white);}
.nav-item.active{background:rgba(0,82,255,0.1);color:var(--white);border:1px solid rgba(0,82,255,0.18);}
.nav-item.active::before{content:'';position:absolute;left:-10px;top:50%;transform:translateY(-50%);width:3px;height:60%;background:linear-gradient(180deg,var(--blue),var(--cyan));border-radius:0 2px 2px 0;}
.nav-ico{font-size:15px;width:18px;text-align:center;}

/* MAIN */
.main{margin-left:240px;flex:1;height:100vh;overflow-y:auto;background:var(--bg);}
.main::-webkit-scrollbar{width:3px;}
.main::-webkit-scrollbar-thumb{background:linear-gradient(var(--blue),var(--cyan));border-radius:2px;}
.topbar{padding:0 28px;height:60px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border);position:sticky;top:0;background:rgba(0,4,15,0.9);backdrop-filter:blur(20px);z-index:40;}
.topbar h2{font-family:'Syne',sans-serif;font-size:18px;font-weight:700;}
.topbar p{font-size:12px;color:var(--gray);font-weight:300;}
.tb-right{display:flex;gap:10px;}
.btn{display:inline-flex;align-items:center;gap:7px;padding:8px 18px;border-radius:8px;font-size:13px;font-weight:600;cursor:none;transition:all 0.2s;font-family:'DM Sans',sans-serif;border:none;}
.btn-ghost{background:transparent;border:1px solid var(--border);color:var(--gray);}
.btn-ghost:hover{border-color:rgba(255,255,255,0.2);color:var(--white);}
.btn-blue{background:var(--blue);color:var(--white);box-shadow:0 0 16px var(--blue-glow);}
.btn-blue:hover{background:var(--blue2);}

/* TWO COLUMN LAYOUT */
.profile-layout{display:grid;grid-template-columns:300px 1fr;gap:0;height:calc(100vh - 60px);}

/* LEFT PREVIEW */
.preview-panel{background:var(--card);border-right:1px solid var(--border);padding:24px 20px;overflow-y:auto;display:flex;flex-direction:column;gap:16px;}
.preview-panel::-webkit-scrollbar{display:none;}

/* AVATAR UPLOAD */
.avatar-upload{text-align:center;}
.av-ring{position:relative;width:90px;height:90px;margin:0 auto 12px;cursor:none;}
.av-img{width:90px;height:90px;border-radius:50%;background:linear-gradient(135deg,var(--blue),var(--cyan));display:grid;place-items:center;font-family:'Syne',sans-serif;font-weight:800;font-size:32px;box-shadow:0 0 30px var(--blue-glow);}
.av-edit{position:absolute;bottom:2px;right:2px;width:26px;height:26px;background:var(--blue);border-radius:50%;display:grid;place-items:center;font-size:12px;border:2px solid var(--card);}
.av-upload-input{display:none;}
.av-name{font-family:'Syne',sans-serif;font-size:16px;font-weight:800;margin-bottom:4px;}
.av-type{display:inline-flex;padding:3px 10px;border-radius:100px;font-size:11px;font-weight:600;background:rgba(0,82,255,0.12);color:var(--blue2);border:1px solid rgba(0,82,255,0.2);margin-bottom:10px;}

/* COMPLETION RING */
.completion-wrap{text-align:center;}
.comp-ring{position:relative;width:80px;height:80px;margin:0 auto 8px;}
.comp-ring svg{transform:rotate(-90deg);}
.comp-num{position:absolute;inset:0;display:grid;place-items:center;font-family:'Syne',sans-serif;font-size:18px;font-weight:800;}
.comp-label{font-size:12px;color:var(--gray);font-weight:300;}

/* PREVIEW CARD */
.preview-card{background:var(--card2);border:1px solid var(--border);border-radius:12px;padding:14px;}
.pc-title{font-size:11px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--gray2);margin-bottom:10px;}
.pc-skills{display:flex;flex-wrap:wrap;gap:6px;}
.skill-pill{padding:3px 10px;border-radius:100px;font-size:11px;background:rgba(0,82,255,0.08);color:var(--blue2);border:1px solid rgba(0,82,255,0.15);}
.pc-tip{padding:10px 12px;background:rgba(249,115,22,0.06);border:1px solid rgba(249,115,22,0.15);border-radius:8px;font-size:12px;color:rgba(249,115,22,0.8);line-height:1.6;font-weight:300;}

/* RIGHT FORM */
.form-panel{overflow-y:auto;padding:24px 28px;}
.form-panel::-webkit-scrollbar{width:3px;}
.form-panel::-webkit-scrollbar-thumb{background:var(--blue);border-radius:2px;}

/* ‚îÄ‚îÄ SECTION CARDS ‚îÄ‚îÄ */
.form-section{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:22px;margin-bottom:16px;transition:border-color 0.2s;}
.form-section:hover{border-color:var(--border-blue);}
.fs-header{display:flex;align-items:center;gap:10px;margin-bottom:0;cursor:none;}
.fs-ico{width:36px;height:36px;background:rgba(0,82,255,0.08);border:1px solid rgba(0,82,255,0.15);border-radius:10px;display:grid;place-items:center;font-size:16px;flex-shrink:0;}
.fs-title{font-family:'Syne',sans-serif;font-size:14px;font-weight:700;}

/* EDIT PENCIL BUTTON */
.edit-pencil{margin-left:auto;width:30px;height:30px;background:rgba(255,255,255,0.04);border:1px solid var(--border);border-radius:8px;display:grid;place-items:center;cursor:none;transition:all 0.2s;flex-shrink:0;font-size:13px;}
.edit-pencil:hover{background:rgba(0,82,255,0.1);border-color:rgba(0,82,255,0.3);}
.edit-pencil.active{background:rgba(0,82,255,0.15);border-color:rgba(0,82,255,0.4);color:var(--cyan);}

/* SECTION CONTENT ‚Äî hidden/shown */
.section-body{margin-top:18px;}
.section-readonly{margin-top:14px;display:flex;flex-direction:column;gap:8px;}
.ro-row{display:flex;gap:24px;flex-wrap:wrap;}
.ro-field{display:flex;flex-direction:column;gap:3px;min-width:120px;}
.ro-label{font-size:10px;font-weight:600;letter-spacing:1.5px;text-transform:uppercase;color:var(--gray2);}
.ro-value{font-size:13px;color:var(--white);font-weight:400;line-height:1.6;}
.ro-value.muted{color:var(--gray);}

/* SECTION ACTIONS (Save/Cancel per section) */
.section-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:16px;padding-top:14px;border-top:1px solid var(--border);}
.btn-sec-cancel{padding:7px 16px;border-radius:8px;font-size:12px;font-weight:500;cursor:none;background:transparent;border:1px solid var(--border);color:var(--gray);font-family:'DM Sans',sans-serif;transition:all 0.2s;}
.btn-sec-cancel:hover{border-color:rgba(255,255,255,0.2);color:var(--white);}
.btn-sec-save{padding:7px 16px;border-radius:8px;font-size:12px;font-weight:600;cursor:none;background:var(--blue);color:var(--white);border:none;font-family:'DM Sans',sans-serif;box-shadow:0 0 12px var(--blue-glow);transition:all 0.2s;}
.btn-sec-save:hover{background:var(--blue2);}

/* INPUTS */
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px;}
.form-row.full{grid-template-columns:1fr;}
.fg{display:flex;flex-direction:column;gap:5px;}
.fg label{font-size:12px;font-weight:500;color:rgba(255,255,255,0.6);}
.fg input,.fg select,.fg textarea{background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:9px 12px;color:var(--white);font-size:13px;font-family:'DM Sans',sans-serif;outline:none;transition:all 0.2s;font-weight:300;}
.fg input::placeholder,.fg textarea::placeholder{color:var(--gray2);}
.fg input:focus,.fg select:focus,.fg textarea:focus{border-color:rgba(0,82,255,0.45);background:rgba(0,82,255,0.04);box-shadow:0 0 0 3px rgba(0,82,255,0.08);}
.fg select{cursor:none;}
.fg textarea{resize:vertical;min-height:80px;line-height:1.6;}

/* TYPE TOGGLE */
.type-pills{display:flex;gap:8px;flex-wrap:wrap;}
.tp{padding:6px 14px;border-radius:8px;font-size:12px;font-weight:500;cursor:none;border:1px solid var(--border);background:transparent;color:var(--gray);transition:all 0.2s;font-family:'DM Sans',sans-serif;}
.tp.on{background:rgba(0,82,255,0.12);border-color:rgba(0,82,255,0.3);color:var(--blue2);}
.tp:hover:not(.on){background:rgba(255,255,255,0.04);color:var(--white);}

/* SKILL TAGS INPUT */
.tags-input{display:flex;flex-wrap:wrap;gap:6px;padding:8px;background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;min-height:44px;cursor:text;transition:all 0.2s;}
.tags-input:focus-within{border-color:rgba(0,82,255,0.45);}
.skill-tag{display:flex;align-items:center;gap:4px;padding:3px 8px 3px 10px;background:rgba(0,82,255,0.1);border:1px solid rgba(0,82,255,0.2);border-radius:6px;font-size:12px;color:var(--blue2);}
.skill-tag button{background:none;border:none;color:var(--gray);cursor:none;font-size:13px;line-height:1;padding:0 2px;transition:color 0.2s;}
.skill-tag button:hover{color:var(--white);}
.tag-inp{background:none;border:none;outline:none;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;min-width:80px;padding:3px 4px;}

/* GITHUB */
.gh-input-wrap{display:flex;gap:8px;}
.gh-input-wrap input{flex:1;}
.btn-sm{padding:8px 14px;font-size:12px;border-radius:8px;}

/* SKILL LEVEL BARS (GitHub analysis) */
.gh-analysis-box{margin-top:14px;background:var(--card2);border:1px solid var(--border-blue);border-radius:12px;padding:16px;}
.gh-analysis-title{font-size:11px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--gray2);margin-bottom:14px;}
.skill-level-row{display:flex;align-items:center;gap:10px;margin-bottom:10px;}
.sl-name{font-family:monospace;font-size:12px;color:var(--gray);width:80px;flex-shrink:0;}
.sl-bar{flex:1;height:5px;background:rgba(255,255,255,0.05);border-radius:3px;overflow:hidden;}
.sl-fill{height:100%;border-radius:3px;transition:width 1s cubic-bezier(0.16,1,0.3,1);}
.sl-fill.lvl-expert{background:linear-gradient(90deg,#0052ff,#00c8ff);}
.sl-fill.lvl-advanced{background:linear-gradient(90deg,#7c3aed,#a78bfa);}
.sl-fill.lvl-intermediate{background:linear-gradient(90deg,#059669,#34d399);}
.sl-fill.lvl-beginner{background:linear-gradient(90deg,#d97706,#fbbf24);}
.sl-pct{font-family:monospace;font-size:12px;color:rgba(255,255,255,0.7);width:32px;text-align:right;flex-shrink:0;}
.sl-badge{padding:2px 8px;border-radius:4px;font-size:10px;font-weight:600;width:80px;text-align:center;flex-shrink:0;}
.sl-badge.lvl-expert{background:rgba(0,82,255,0.12);color:var(--blue2);border:1px solid rgba(0,82,255,0.2);}
.sl-badge.lvl-advanced{background:rgba(124,58,237,0.12);color:#a78bfa;border:1px solid rgba(124,58,237,0.2);}
.sl-badge.lvl-intermediate{background:rgba(5,150,105,0.12);color:#34d399;border:1px solid rgba(5,150,105,0.2);}
.sl-badge.lvl-beginner{background:rgba(217,119,6,0.12);color:#fbbf24;border:1px solid rgba(217,119,6,0.2);}
.gh-summary{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap;}
.gh-stat{flex:1;min-width:80px;padding:8px 10px;background:rgba(255,255,255,0.02);border:1px solid var(--border);border-radius:8px;text-align:center;}
.gh-stat-num{font-family:'Syne',sans-serif;font-size:18px;font-weight:800;background:linear-gradient(90deg,#60a5fa,#00c8ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.gh-stat-lbl{font-size:10px;color:var(--gray);margin-top:2px;font-weight:300;}

/* PROJECT CARDS */
.project-list{display:flex;flex-direction:column;gap:10px;}
.proj-card{background:var(--card2);border:1px solid var(--border);border-radius:12px;padding:14px;position:relative;transition:border-color 0.2s;}
.proj-card:hover{border-color:var(--border-blue);}
.proj-top{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:8px;}
.proj-name{font-family:'Syne',sans-serif;font-size:13px;font-weight:700;}
.proj-del{background:none;border:none;color:var(--gray2);cursor:none;font-size:16px;transition:color 0.2s;}
.proj-del:hover{color:#f87171;}
.proj-desc{font-size:12px;color:var(--gray);line-height:1.6;margin-bottom:8px;font-weight:300;}
.proj-tags{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:8px;}
.ptag{padding:2px 8px;border-radius:4px;font-size:10px;background:rgba(0,82,255,0.08);color:var(--blue2);border:1px solid rgba(0,82,255,0.15);}
.proj-links{display:flex;gap:8px;}
.plink{font-size:11px;color:var(--gray);text-decoration:none;display:flex;align-items:center;gap:4px;transition:color 0.2s;}
.plink:hover{color:var(--cyan);}
.add-btn{width:100%;padding:10px;background:rgba(255,255,255,0.02);border:1px dashed rgba(255,255,255,0.1);border-radius:10px;color:var(--gray);font-size:13px;cursor:none;transition:all 0.2s;font-family:'DM Sans',sans-serif;display:flex;align-items:center;justify-content:center;gap:6px;}
.add-btn:hover{border-color:rgba(0,82,255,0.3);color:var(--blue2);background:rgba(0,82,255,0.04);}

/* FILE DROP */
.file-drop{padding:24px;background:rgba(255,255,255,0.02);border:2px dashed rgba(255,255,255,0.08);border-radius:12px;text-align:center;cursor:none;transition:all 0.2s;}
.file-drop:hover,.file-drop.drag{border-color:rgba(0,82,255,0.4);background:rgba(0,82,255,0.04);}
.fd-ico{font-size:28px;margin-bottom:8px;}
.fd-title{font-size:13px;font-weight:500;margin-bottom:4px;}
.fd-sub{font-size:11px;color:var(--gray);font-weight:300;}
.fd-types{display:flex;gap:6px;justify-content:center;margin-top:10px;}
.fd-type{padding:2px 8px;border-radius:4px;font-size:10px;background:rgba(255,255,255,0.04);border:1px solid var(--border);color:var(--gray);}
.uploaded-files{margin-top:12px;display:flex;flex-direction:column;gap:6px;}
.uf-item{display:flex;align-items:center;gap:10px;padding:8px 12px;background:rgba(0,82,255,0.06);border:1px solid rgba(0,82,255,0.15);border-radius:8px;}
.uf-ico{font-size:16px;}
.uf-name{flex:1;font-size:12px;font-weight:500;}
.uf-size{font-size:11px;color:var(--gray);}
.uf-del{background:none;border:none;color:var(--gray);cursor:none;font-size:14px;}

/* FRESHER TOGGLE */
.fresher-toggle{display:flex;align-items:center;gap:10px;margin-bottom:14px;}
.toggle-sw{width:40px;height:22px;background:rgba(255,255,255,0.06);border-radius:11px;position:relative;cursor:none;transition:background 0.2s;border:1px solid var(--border);}
.toggle-sw.on{background:var(--blue);}
.toggle-knob{width:16px;height:16px;background:var(--white);border-radius:50%;position:absolute;top:2px;left:2px;transition:left 0.2s;}
.toggle-sw.on .toggle-knob{left:20px;}
.toggle-label{font-size:13px;color:var(--gray);font-weight:300;}

::-webkit-scrollbar{width:3px;}
::-webkit-scrollbar-thumb{background:linear-gradient(var(--blue),var(--cyan));border-radius:2px;}
</style>
</head>
<body>
<div id="cur"></div><div id="cur2"></div>

<!-- SIDEBAR -->
<div class="sidebar">
  <a href="index.html" class="sb-logo"><div class="lbox">üß¨</div><span class="logo-txt">SkillLens</span></a>
  <div class="sb-profile">
    <div class="sb-av" id="sbAv">AR</div>
    <div class="sb-name">Arjun Rajan</div>
    <div class="sb-badge">Student</div>
    <div class="sb-progress">Profile Completeness ‚Äî 75%</div>
    <div class="prog-bar"><div class="prog-fill" style="width:75%;"></div></div>
  </div>
  <nav class="sb-nav">
    <div class="nav-section">Main</div>
    <a href="student_dashboard.html" class="nav-item"><span class="nav-ico">üè†</span>Dashboard</a>
    <a href="#" class="nav-item"><span class="nav-ico">üß¨</span>Skill DNA</a>
    <a href="#" class="nav-item"><span class="nav-ico">üéØ</span>My Matches</a>
    <a href="chat.html" class="nav-item"><span class="nav-ico">üí¨</span>Messages</a>
    <div class="nav-section">Profile</div>
    <a href="profile_edit.html" class="nav-item active"><span class="nav-ico">üë§</span>Edit Profile</a>
    <a href="#" class="nav-item"><span class="nav-ico">üìÅ</span>My Projects</a>
    <a href="#" class="nav-item"><span class="nav-ico">üîó</span>GitHub Link</a>
    <div class="nav-section">Account</div>
    <a href="#" class="nav-item"><span class="nav-ico">‚öôÔ∏è</span>Settings</a>
    <a href="auth.html" class="nav-item"><span class="nav-ico">üö™</span>Logout</a>
  </nav>
</div>

<!-- MAIN -->
<div class="main">
  <div class="topbar">
    <div>
      <!-- CHANGED: "Edit Profile" ‚Üí "My Profile" -->
      <h2>My <span class="g-bc">Profile</span></h2>
      <p>Keep your profile updated to get better matches</p>
    </div>
  </div>

  <div class="profile-layout">
    <!-- LEFT: PREVIEW -->
    <div class="preview-panel">
      <div class="avatar-upload">
        <div class="av-ring" onclick="document.getElementById('avFile').click()">
          <div class="av-img" id="avImg">AR</div>
          <div class="av-edit">‚úèÔ∏è</div>
        </div>
        <input type="file" id="avFile" class="av-upload-input" accept="image/*" onchange="previewAvatar(this)"/>
        <div class="av-name" id="previewName">Arjun Rajan</div>
        <div class="av-type" id="previewType">Student</div>
      </div>
      <div class="completion-wrap">
        <div class="comp-ring">
          <svg width="80" height="80" viewBox="0 0 80 80">
            <circle cx="40" cy="40" r="34" fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="6"/>
            <circle cx="40" cy="40" r="34" fill="none" stroke="url(#cg)" stroke-width="6" stroke-dasharray="160 213" stroke-linecap="round" id="compCircle"/>
            <defs><linearGradient id="cg" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#0052ff"/><stop offset="100%" stop-color="#00c8ff"/></linearGradient></defs>
          </svg>
          <div class="comp-num g-bc" id="compNum">75%</div>
        </div>
        <div class="comp-label">Profile Completeness</div>
      </div>
      <div class="preview-card">
        <div class="pc-title">Skills Preview</div>
        <div class="pc-skills" id="skillsPreview">
          <span class="skill-pill">Python</span>
          <span class="skill-pill">React</span>
          <span class="skill-pill">SQL</span>
          <span class="skill-pill">ML</span>
        </div>
      </div>
      <div class="preview-card">
        <div class="pc-title">How Companies See You</div>
        <div style="font-size:12px;color:var(--gray);line-height:1.7;font-weight:300;">
          Your profile is <strong style="color:var(--white);">75% complete.</strong> Adding your GitHub link and 2 more projects will boost your match score by <strong style="color:#34d399;">+12%</strong>.
        </div>
      </div>
      <div class="pc-tip">üí° Tip: Candidates with GitHub projects get <strong>3x more</strong> company views on SkillLens.</div>
    </div>

    <!-- RIGHT: FORM -->
    <div class="form-panel">

      <!-- ‚ïê‚ïê SECTION 1: Basic Info ‚ïê‚ïê -->
      <div class="form-section" id="sec-basic">
        <div class="fs-header">
          <div class="fs-ico">üë§</div>
          <div class="fs-title">Basic Information</div>
          <button class="edit-pencil" id="pencil-basic" onclick="toggleEdit('basic')" title="Edit section">‚úèÔ∏è</button>
        </div>

        <!-- READ-ONLY VIEW -->
        <div class="section-readonly" id="readonly-basic">
          <div class="ro-row">
            <div class="ro-field"><span class="ro-label">Full Name</span><span class="ro-value" id="ro-name">Arjun Rajan</span></div>
            <div class="ro-field"><span class="ro-label">Email</span><span class="ro-value" id="ro-email">arjun@example.com</span></div>
          </div>
          <div class="ro-row">
            <div class="ro-field"><span class="ro-label">Phone</span><span class="ro-value muted" id="ro-phone">+91 9876543210</span></div>
            <div class="ro-field"><span class="ro-label">Location</span><span class="ro-value muted" id="ro-location">Chennai, India</span></div>
          </div>
          <div class="ro-field" style="max-width:100%;">
            <span class="ro-label">Bio</span>
            <span class="ro-value muted" id="ro-bio">Passionate ML enthusiast and full-stack developer with strong foundations in Python and data science. Always building something new.</span>
          </div>
          <div class="ro-field"><span class="ro-label">Role Type</span><span class="ro-value" id="ro-type">üéì Student</span></div>
        </div>

        <!-- EDIT FORM (hidden by default) -->
        <div class="section-body" id="edit-basic" style="display:none;">
          <div class="form-row">
            <div class="fg"><label>Full Name</label><input type="text" id="inp-name" value="Arjun Rajan" oninput="updatePreviewName(this.value)" placeholder="Your full name"/></div>
            <div class="fg"><label>Email Address</label><input type="email" id="inp-email" value="arjun@example.com" placeholder="you@example.com"/></div>
          </div>
          <div class="form-row">
            <div class="fg"><label>Phone Number</label><input type="tel" id="inp-phone" value="+91 9876543210" placeholder="+91 9876543210"/></div>
            <div class="fg"><label>Location</label><input type="text" id="inp-location" value="Chennai, India" placeholder="City, Country"/></div>
          </div>
          <div class="form-row full">
            <div class="fg"><label>Bio</label><textarea id="inp-bio" placeholder="Tell companies about yourself...">Passionate ML enthusiast and full-stack developer with strong foundations in Python and data science. Always building something new.</textarea></div>
          </div>
          <div class="fg" style="margin-bottom:0;">
            <label>I am a</label>
            <div class="type-pills">
              <button class="tp on" onclick="setType(this,'student')">üéì Student</button>
              <button class="tp" onclick="setType(this,'fresher')">üå± Fresher</button>
              <button class="tp" onclick="setType(this,'experienced')">üíº Experienced</button>
            </div>
          </div>
          <div class="section-actions">
            <button class="btn-sec-cancel" onclick="cancelEdit('basic')">Cancel</button>
            <button class="btn-sec-save" onclick="saveSection('basic')">üíæ Save</button>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê SECTION 2: Skills ‚ïê‚ïê -->
      <div class="form-section" id="sec-skills">
        <div class="fs-header">
          <div class="fs-ico">üß¨</div>
          <div class="fs-title">Skills <span class="g-bc">DNA</span></div>
          <button class="edit-pencil" id="pencil-skills" onclick="toggleEdit('skills')" title="Edit section">‚úèÔ∏è</button>
        </div>

        <!-- READ-ONLY VIEW -->
        <div class="section-readonly" id="readonly-skills">
          <div class="pc-skills" id="ro-skills-pills">
            <span class="skill-pill">Python</span>
            <span class="skill-pill">React</span>
            <span class="skill-pill">SQL</span>
            <span class="skill-pill">Machine Learning</span>
            <span class="skill-pill">Node.js</span>
          </div>
        </div>

        <!-- EDIT FORM -->
        <div class="section-body" id="edit-skills" style="display:none;">
          <div class="fg" style="margin-bottom:14px;">
            <label>Add Skills (press Enter or comma to add)</label>
            <div class="tags-input" id="tagsContainer" onclick="document.getElementById('tagInput').focus()">
              <span class="skill-tag">Python<button onclick="removeTag(this)">√ó</button></span>
              <span class="skill-tag">React<button onclick="removeTag(this)">√ó</button></span>
              <span class="skill-tag">SQL<button onclick="removeTag(this)">√ó</button></span>
              <span class="skill-tag">Machine Learning<button onclick="removeTag(this)">√ó</button></span>
              <span class="skill-tag">Node.js<button onclick="removeTag(this)">√ó</button></span>
              <input class="tag-inp" id="tagInput" placeholder="Add skill..." onkeydown="handleTagKey(event)"/>
            </div>
          </div>
          <div style="font-size:12px;color:var(--gray);margin-bottom:10px;font-weight:300;">Suggested: <span id="suggestions" style="color:var(--blue2);cursor:default;"></span></div>
          <div class="section-actions">
            <button class="btn-sec-cancel" onclick="cancelEdit('skills')">Cancel</button>
            <button class="btn-sec-save" onclick="saveSection('skills')">üíæ Save</button>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê SECTION 3: GitHub ‚ïê‚ïê -->
      <div class="form-section" id="sec-github">
        <div class="fs-header">
          <div class="fs-ico">üêô</div>
          <div class="fs-title">GitHub Profile</div>
          <button class="edit-pencil" id="pencil-github" onclick="toggleEdit('github')" title="Edit section">‚úèÔ∏è</button>
        </div>

        <!-- READ-ONLY VIEW -->
        <div class="section-readonly" id="readonly-github">
          <div class="ro-field">
            <span class="ro-label">GitHub URL</span>
            <span class="ro-value" id="ro-ghurl" style="color:var(--blue2);">https://github.com/arjunrajan</span>
          </div>
          <div style="font-size:12px;color:var(--gray);margin-top:4px;font-weight:300;">Click ‚úèÔ∏è to edit and run analysis.</div>
        </div>

        <!-- EDIT FORM -->
        <div class="section-body" id="edit-github" style="display:none;">
          <div class="form-row full">
            <div class="fg">
              <label>GitHub Profile URL</label>
              <div class="gh-input-wrap">
                <input type="url" id="ghUrl" value="https://github.com/arjunrajan" placeholder="https://github.com/username"/>
                <button class="btn btn-blue btn-sm" onclick="analyzeGitHub()">üîç Analyze</button>
              </div>
            </div>
          </div>

          <!-- GitHub Analysis Results -->
          <div id="gh-results" style="display:none;">
            <div style="font-size:12px;color:var(--green);margin:10px 0 4px;font-weight:500;">‚úÖ GitHub analyzed ‚Äî 5 repos scanned</div>

            <!-- Skill Level Bars -->
            <div class="gh-analysis-box">
              <div class="gh-analysis-title">Skill Proficiency from Repos</div>
              <div id="skill-bars"></div>
              <div class="gh-summary" id="gh-summary"></div>
            </div>

            <!-- Detected Projects -->
            <div style="font-size:11px;font-weight:600;letter-spacing:2px;text-transform:uppercase;color:var(--gray2);margin:14px 0 8px;">Detected Projects</div>
            <div class="project-list" id="ghProjects">
              <div class="proj-card">
                <div class="proj-top"><div class="proj-name">ü§ñ ML-Price-Predictor</div><button class="proj-del">√ó</button></div>
                <div class="proj-desc">Price prediction model using Random Forest with 94% accuracy on housing dataset.</div>
                <div class="proj-tags"><span class="ptag">Python</span><span class="ptag">scikit-learn</span><span class="ptag">pandas</span></div>
                <div class="proj-links"><a href="#" class="plink">üîó GitHub</a><a href="#" class="plink">üåê Live Demo</a></div>
              </div>
              <div class="proj-card">
                <div class="proj-top"><div class="proj-name">‚öõÔ∏è React Dashboard</div><button class="proj-del">√ó</button></div>
                <div class="proj-desc">Real-time analytics dashboard with Chart.js, dark theme, and REST API integration.</div>
                <div class="proj-tags"><span class="ptag">React</span><span class="ptag">Chart.js</span><span class="ptag">Node.js</span></div>
                <div class="proj-links"><a href="#" class="plink">üîó GitHub</a><a href="#" class="plink">üåê Live Demo</a></div>
              </div>
            </div>
          </div>

          <div class="section-actions">
            <button class="btn-sec-cancel" onclick="cancelEdit('github')">Cancel</button>
            <button class="btn-sec-save" onclick="saveSection('github')">üíæ Save</button>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê SECTION 4: My Projects ‚ïê‚ïê -->
      <div class="form-section" id="sec-projects">
        <div class="fs-header">
          <div class="fs-ico">üìÅ</div>
          <div class="fs-title">My Projects</div>
          <button class="edit-pencil" id="pencil-projects" onclick="toggleEdit('projects')" title="Edit section">‚úèÔ∏è</button>
        </div>

        <!-- READ-ONLY VIEW -->
        <div class="section-readonly" id="readonly-projects">
          <div class="proj-card">
            <div class="proj-top"><div class="proj-name">üóÑÔ∏è SQL Analytics Engine</div></div>
            <div class="proj-desc">Built a custom analytics pipeline processing 1M+ rows with optimized query performance.</div>
            <div class="proj-tags"><span class="ptag">SQL</span><span class="ptag">PostgreSQL</span><span class="ptag">dbt</span></div>
            <div class="proj-links"><a href="#" class="plink">üîó GitHub</a></div>
          </div>
        </div>

        <!-- EDIT FORM -->
        <div class="section-body" id="edit-projects" style="display:none;">
          <div class="project-list" id="manualProjects">
            <div class="proj-card">
              <div class="proj-top"><div class="proj-name">üóÑÔ∏è SQL Analytics Engine</div><button class="proj-del" onclick="this.closest('.proj-card').remove()">√ó</button></div>
              <div class="proj-desc">Built a custom analytics pipeline processing 1M+ rows with optimized query performance.</div>
              <div class="proj-tags"><span class="ptag">SQL</span><span class="ptag">PostgreSQL</span><span class="ptag">dbt</span></div>
              <div class="proj-links"><a href="#" class="plink">üîó GitHub</a></div>
            </div>
          </div>
          <button class="add-btn" onclick="addProject()" style="margin-top:10px;">+ Add Project</button>
          <div class="section-actions">
            <button class="btn-sec-cancel" onclick="cancelEdit('projects')">Cancel</button>
            <button class="btn-sec-save" onclick="saveSection('projects')">üíæ Save</button>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê SECTION 5: Upload Documents ‚ïê‚ïê -->
      <div class="form-section" id="sec-docs">
        <div class="fs-header">
          <div class="fs-ico">üìé</div>
          <div class="fs-title">Upload Documents</div>
          <button class="edit-pencil" id="pencil-docs" onclick="toggleEdit('docs')" title="Edit section">‚úèÔ∏è</button>
        </div>

        <!-- READ-ONLY VIEW -->
        <div class="section-readonly" id="readonly-docs">
          <div class="uploaded-files">
            <div class="uf-item"><span class="uf-ico">üìÑ</span><span class="uf-name">Arjun_Resume_2025.pdf</span><span class="uf-size">245 KB</span></div>
            <div class="uf-item"><span class="uf-ico">üìú</span><span class="uf-name">Python_Certificate.pdf</span><span class="uf-size">112 KB</span></div>
          </div>
        </div>

        <!-- EDIT FORM -->
        <div class="section-body" id="edit-docs" style="display:none;">
          <div class="file-drop" id="dropZone" ondragover="dragOver(event)" ondragleave="dragLeave()" ondrop="dropFile(event)" onclick="document.getElementById('fileInput').click()">
            <input type="file" id="fileInput" style="display:none;" multiple accept=".pdf,.doc,.docx,.zip,.png,.jpg" onchange="handleFiles(this.files)"/>
            <div class="fd-ico">üì§</div>
            <div class="fd-title">Drop files here or click to upload</div>
            <div class="fd-sub">Resume, certificates, project ZIPs, screenshots</div>
            <div class="fd-types"><span class="fd-type">PDF</span><span class="fd-type">DOCX</span><span class="fd-type">ZIP</span><span class="fd-type">PNG/JPG</span></div>
          </div>
          <div class="uploaded-files" id="uploadedFiles">
            <div class="uf-item"><span class="uf-ico">üìÑ</span><span class="uf-name">Arjun_Resume_2025.pdf</span><span class="uf-size">245 KB</span><button class="uf-del" onclick="this.closest('.uf-item').remove()">√ó</button></div>
            <div class="uf-item"><span class="uf-ico">üìú</span><span class="uf-name">Python_Certificate.pdf</span><span class="uf-size">112 KB</span><button class="uf-del" onclick="this.closest('.uf-item').remove()">√ó</button></div>
          </div>
          <div class="section-actions">
            <button class="btn-sec-cancel" onclick="cancelEdit('docs')">Cancel</button>
            <button class="btn-sec-save" onclick="saveSection('docs')">üíæ Save</button>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê SECTION 6: Education ‚ïê‚ïê -->
      <div class="form-section" id="sec-edu">
        <div class="fs-header">
          <div class="fs-ico">üéì</div>
          <div class="fs-title">Education</div>
          <button class="edit-pencil" id="pencil-edu" onclick="toggleEdit('edu')" title="Edit section">‚úèÔ∏è</button>
        </div>

        <!-- READ-ONLY VIEW -->
        <div class="section-readonly" id="readonly-edu">
          <div class="ro-row">
            <div class="ro-field"><span class="ro-label">Institution</span><span class="ro-value" id="ro-inst">VIT Chennai</span></div>
            <div class="ro-field"><span class="ro-label">Degree</span><span class="ro-value" id="ro-degree">B.Tech CSE</span></div>
          </div>
          <div class="ro-row">
            <div class="ro-field"><span class="ro-label">Graduation Year</span><span class="ro-value muted" id="ro-grad">2026</span></div>
            <div class="ro-field"><span class="ro-label">GPA / Grade</span><span class="ro-value muted" id="ro-gpa">8.4 / 10</span></div>
          </div>
        </div>

        <!-- EDIT FORM -->
        <div class="section-body" id="edit-edu" style="display:none;">
          <div class="form-row">
            <div class="fg"><label>Institution</label><input type="text" id="inp-inst" value="VIT Chennai" placeholder="University / College name"/></div>
            <div class="fg"><label>Degree</label>
              <select id="inp-degree"><option>B.Tech CSE</option><option>B.Tech IT</option><option>BCA</option><option>MCA</option><option>BSc CS</option><option>MSc CS</option></select>
            </div>
          </div>
          <div class="form-row">
            <div class="fg"><label>Graduation Year</label><input type="text" id="inp-grad" value="2026" placeholder="2026"/></div>
            <div class="fg"><label>GPA / Grade</label><input type="text" id="inp-gpa" value="8.4 / 10" placeholder="8.5 / 10"/></div>
          </div>
          <div class="section-actions">
            <button class="btn-sec-cancel" onclick="cancelEdit('edu')">Cancel</button>
            <button class="btn-sec-save" onclick="saveSection('edu')">üíæ Save</button>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê SECTION 7: Experience ‚ïê‚ïê -->
      <div class="form-section" id="sec-exp">
        <div class="fs-header">
          <div class="fs-ico">üíº</div>
          <div class="fs-title">Experience</div>
          <button class="edit-pencil" id="pencil-exp" onclick="toggleEdit('exp')" title="Edit section">‚úèÔ∏è</button>
        </div>

        <!-- READ-ONLY VIEW -->
        <div class="section-readonly" id="readonly-exp">
          <div class="proj-card">
            <div class="proj-top"><div class="proj-name">üè¢ Data Science Intern ‚Äî TechSoft</div></div>
            <div class="proj-desc">Worked on customer churn prediction model. Built ETL pipeline using Python and SQL. Reduced churn by 18%.</div>
            <div class="proj-tags"><span class="ptag">May 2024</span><span class="ptag">Aug 2024</span><span class="ptag">3 months</span></div>
          </div>
        </div>

        <!-- EDIT FORM -->
        <div class="section-body" id="edit-exp" style="display:none;">
          <div class="fresher-toggle">
            <div class="toggle-sw" id="fresherToggle" onclick="toggleFresher()"><div class="toggle-knob"></div></div>
            <span class="toggle-label">I'm a Fresher (no work experience)</span>
          </div>
          <div id="exp-form">
            <div class="project-list" id="expList">
              <div class="proj-card">
                <div class="proj-top"><div class="proj-name">üè¢ Data Science Intern ‚Äî TechSoft</div><button class="proj-del" onclick="this.closest('.proj-card').remove()">√ó</button></div>
                <div class="proj-desc">Worked on customer churn prediction model. Built ETL pipeline using Python and SQL. Reduced churn by 18%.</div>
                <div class="proj-tags"><span class="ptag">May 2024</span><span class="ptag">Aug 2024</span><span class="ptag">3 months</span></div>
              </div>
            </div>
            <button class="add-btn" onclick="addExperience()" style="margin-top:10px;">+ Add Experience</button>
          </div>
          <div class="section-actions">
            <button class="btn-sec-cancel" onclick="cancelEdit('exp')">Cancel</button>
            <button class="btn-sec-save" onclick="saveSection('exp')">üíæ Save</button>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê SECTION 8: Hobbies & Soft Skills ‚ïê‚ïê -->
      <div class="form-section" id="sec-hobbies">
        <div class="fs-header">
          <div class="fs-ico">‚ú®</div>
          <div class="fs-title">Hobbies & Soft Skills</div>
          <button class="edit-pencil" id="pencil-hobbies" onclick="toggleEdit('hobbies')" title="Edit section">‚úèÔ∏è</button>
        </div>

        <!-- READ-ONLY VIEW -->
        <div class="section-readonly" id="readonly-hobbies">
          <div class="ro-row">
            <div class="ro-field"><span class="ro-label">Hobbies</span><span class="ro-value muted" id="ro-hobbies">Open Source, Hackathons, Chess</span></div>
            <div class="ro-field"><span class="ro-label">Soft Skills</span><span class="ro-value muted" id="ro-softskills">Leadership, Communication, Teamwork</span></div>
          </div>
          <div class="ro-field"><span class="ro-label">Languages</span><span class="ro-value muted" id="ro-langs">English, Tamil, Hindi</span></div>
        </div>

        <!-- EDIT FORM -->
        <div class="section-body" id="edit-hobbies" style="display:none;">
          <div class="form-row">
            <div class="fg"><label>Hobbies</label><input type="text" id="inp-hobbies" value="Open Source, Hackathons, Chess" placeholder="Gaming, Music, Reading..."/></div>
            <div class="fg"><label>Soft Skills</label><input type="text" id="inp-softskills" value="Leadership, Communication, Teamwork" placeholder="Communication, Teamwork..."/></div>
          </div>
          <div class="form-row full">
            <div class="fg"><label>Languages</label><input type="text" id="inp-langs" value="English, Tamil, Hindi" placeholder="English, Hindi..."/></div>
          </div>
          <div class="section-actions">
            <button class="btn-sec-cancel" onclick="cancelEdit('hobbies')">Cancel</button>
            <button class="btn-sec-save" onclick="saveSection('hobbies')">üíæ Save</button>
          </div>
        </div>
      </div>

      <div style="height:20px;"></div>
    </div>
  </div>
</div>

<script>
// ‚îÄ‚îÄ CURSOR ‚îÄ‚îÄ
const cur=document.getElementById('cur'),cur2=document.getElementById('cur2');
let mx=innerWidth/2,my=innerHeight/2,tx=mx,ty=my;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;cur.style.left=mx+'px';cur.style.top=my+'px';});
setInterval(()=>{tx+=(mx-tx)*0.13;ty+=(my-ty)*0.13;cur2.style.left=tx+'px';cur2.style.top=ty+'px';},16);

// ‚îÄ‚îÄ SECTION EDIT TOGGLE ‚îÄ‚îÄ
// Stores a snapshot of readonly values so Cancel can restore
const snapshots = {};

function toggleEdit(sec) {
  const ro   = document.getElementById('readonly-' + sec);
  const edit = document.getElementById('edit-' + sec);
  const pencil = document.getElementById('pencil-' + sec);
  const isOpen = edit.style.display !== 'none';

  if (isOpen) {
    cancelEdit(sec);
  } else {
    // snapshot current readonly HTML so cancel can restore
    snapshots[sec] = ro.innerHTML;
    ro.style.display  = 'none';
    edit.style.display = 'block';
    pencil.classList.add('active');
  }
}

function cancelEdit(sec) {
  const ro   = document.getElementById('readonly-' + sec);
  const edit = document.getElementById('edit-' + sec);
  const pencil = document.getElementById('pencil-' + sec);
  // restore snapshot if available
  if (snapshots[sec]) ro.innerHTML = snapshots[sec];
  ro.style.display   = '';
  edit.style.display = 'none';
  pencil.classList.remove('active');
}

function saveSection(sec) {
  // Update readonly view from inputs then close edit mode
  if (sec === 'basic') {
    const name     = document.getElementById('inp-name').value;
    const email    = document.getElementById('inp-email').value;
    const phone    = document.getElementById('inp-phone').value;
    const location = document.getElementById('inp-location').value;
    const bio      = document.getElementById('inp-bio').value;
    const typeEl   = document.querySelector('.tp.on');
    const typeText = typeEl ? typeEl.textContent.trim() : 'Student';
    document.getElementById('ro-name').textContent     = name;
    document.getElementById('ro-email').textContent    = email;
    document.getElementById('ro-phone').textContent    = phone || '‚Äî';
    document.getElementById('ro-location').textContent = location || '‚Äî';
    document.getElementById('ro-bio').textContent      = bio;
    document.getElementById('ro-type').textContent     = typeText;
    updatePreviewName(name);
    document.getElementById('previewType').textContent = typeText.replace(/^[^\s]+\s/,'');
  }

  if (sec === 'skills') {
    const tags = [...document.querySelectorAll('#tagsContainer .skill-tag')]
      .map(t => t.textContent.replace('√ó','').trim());
    document.getElementById('ro-skills-pills').innerHTML =
      tags.map(t => `<span class="skill-pill">${t}</span>`).join('');
    updateSkillsPreview();
  }

  if (sec === 'github') {
    const url = document.getElementById('ghUrl').value;
    document.getElementById('ro-ghurl').textContent = url || '‚Äî';
  }

  if (sec === 'edu') {
    document.getElementById('ro-inst').textContent   = document.getElementById('inp-inst').value   || '‚Äî';
    document.getElementById('ro-degree').textContent = document.getElementById('inp-degree').value || '‚Äî';
    document.getElementById('ro-grad').textContent   = document.getElementById('inp-grad').value   || '‚Äî';
    document.getElementById('ro-gpa').textContent    = document.getElementById('inp-gpa').value    || '‚Äî';
  }

  if (sec === 'hobbies') {
    document.getElementById('ro-hobbies').textContent    = document.getElementById('inp-hobbies').value    || '‚Äî';
    document.getElementById('ro-softskills').textContent = document.getElementById('inp-softskills').value || '‚Äî';
    document.getElementById('ro-langs').textContent      = document.getElementById('inp-langs').value      || '‚Äî';
  }

  // Flash save feedback
  const btn = event.target;
  const orig = btn.textContent;
  btn.textContent = '‚úÖ Saved!';
  btn.style.background = 'var(--green)';
  setTimeout(() => {
    // close section after short delay
    const ro   = document.getElementById('readonly-' + sec);
    const edit = document.getElementById('edit-' + sec);
    const pencil = document.getElementById('pencil-' + sec);
    ro.style.display   = '';
    edit.style.display = 'none';
    pencil.classList.remove('active');
    btn.textContent = orig;
    btn.style.background = '';
  }, 900);
}

// ‚îÄ‚îÄ PREVIEW NAME ‚îÄ‚îÄ
function updatePreviewName(v){
  document.getElementById('previewName').textContent = v || 'Your Name';
  document.getElementById('sbAv').textContent = (v||'AR').split(' ').map(w=>w[0]).join('').slice(0,2).toUpperCase();
}

function setType(btn, type){
  document.querySelectorAll('.tp').forEach(b=>b.classList.remove('on'));
  btn.classList.add('on');
  const labels={student:'Student',fresher:'Fresher',experienced:'Experienced'};
  document.getElementById('previewType').textContent = labels[type];
}

// ‚îÄ‚îÄ SKILLS TAGS ‚îÄ‚îÄ
const suggestions=['TypeScript','Docker','AWS','MongoDB','FastAPI','Vue.js','Flutter','Kotlin'];
document.getElementById('suggestions').textContent = suggestions.slice(0,4).join(' ‚Ä¢ ');

function handleTagKey(e){
  if(e.key==='Enter'||e.key===','){
    e.preventDefault();
    const v=e.target.value.trim().replace(',','');
    if(v){addTag(v);e.target.value='';updateSkillsPreview();}
  }
}
function addTag(name){
  const cont=document.getElementById('tagsContainer');
  const inp=document.getElementById('tagInput');
  const tag=document.createElement('span');
  tag.className='skill-tag';
  tag.innerHTML=`${name}<button onclick="removeTag(this)">√ó</button>`;
  cont.insertBefore(tag,inp);
}
function removeTag(btn){btn.closest('.skill-tag').remove();updateSkillsPreview();}
function updateSkillsPreview(){
  const tags=[...document.querySelectorAll('.skill-tag')].map(t=>t.textContent.replace('√ó','').trim());
  document.getElementById('skillsPreview').innerHTML=tags.map(t=>`<span class="skill-pill">${t}</span>`).join('');
}

// ‚îÄ‚îÄ AVATAR ‚îÄ‚îÄ
function previewAvatar(input){
  if(input.files&&input.files[0]){
    const r=new FileReader();
    r.onload=e=>{
      const av=document.getElementById('avImg');
      av.style.background='none';
      av.style.backgroundImage=`url(${e.target.result})`;
      av.style.backgroundSize='cover';
      av.style.backgroundPosition='center';
      av.textContent='';
    };
    r.readAsDataURL(input.files[0]);
  }
}

// ‚îÄ‚îÄ GITHUB ANALYZE ‚îÄ‚îÄ
// Skill levels data simulating Flask backend analysis result
const ghSkillData = [
  {name:'Python',    pct:82, level:'expert'},
  {name:'JavaScript',pct:68, level:'advanced'},
  {name:'SQL',       pct:74, level:'advanced'},
  {name:'HTML/CSS',  pct:55, level:'intermediate'},
  {name:'Shell',     pct:32, level:'beginner'},
];
const levelLabel = {expert:'Expert',advanced:'Advanced',intermediate:'Intermediate',beginner:'Beginner'};

function analyzeGitHub(){
  const btn = event.target;
  btn.textContent = '‚ü≥ Analyzing...';
  btn.disabled = true;
  btn.style.opacity = '0.7';

  setTimeout(()=>{
    // render skill bars
    const barsEl = document.getElementById('skill-bars');
    barsEl.innerHTML = '';
    ghSkillData.forEach(s => {
      const row = document.createElement('div');
      row.className = 'skill-level-row';
      row.innerHTML = `
        <span class="sl-name">${s.name}</span>
        <div class="sl-bar"><div class="sl-fill lvl-${s.level}" style="width:0%;" data-pct="${s.pct}"></div></div>
        <span class="sl-pct">${s.pct}%</span>
        <span class="sl-badge lvl-${s.level}">${levelLabel[s.level]}</span>`;
      barsEl.appendChild(row);
    });

    // animate bars
    requestAnimationFrame(()=>{
      document.querySelectorAll('.sl-fill').forEach(bar=>{
        bar.style.width = bar.dataset.pct + '%';
      });
    });

    // summary stats
    document.getElementById('gh-summary').innerHTML = `
      <div class="gh-stat"><div class="gh-stat-num">12</div><div class="gh-stat-lbl">Repos</div></div>
      <div class="gh-stat"><div class="gh-stat-num">248</div><div class="gh-stat-lbl">Commits</div></div>
      <div class="gh-stat"><div class="gh-stat-num">5</div><div class="gh-stat-lbl">Languages</div></div>
      <div class="gh-stat"><div class="gh-stat-num">91%</div><div class="gh-stat-lbl">Match</div></div>`;

    document.getElementById('gh-results').style.display = 'block';
    btn.textContent = '‚úÖ Re-Analyze';
    btn.disabled = false;
    btn.style.opacity = '1';
    btn.style.background = 'var(--green)';
  }, 1600);
}

// ‚îÄ‚îÄ FILE UPLOAD ‚îÄ‚îÄ
function dragOver(e){e.preventDefault();document.getElementById('dropZone').classList.add('drag');}
function dragLeave(){document.getElementById('dropZone').classList.remove('drag');}
function dropFile(e){e.preventDefault();dragLeave();handleFiles(e.dataTransfer.files);}
function handleFiles(files){
  const container=document.getElementById('uploadedFiles');
  [...files].forEach(f=>{
    const size=f.size>1024*1024?`${(f.size/1024/1024).toFixed(1)} MB`:`${Math.round(f.size/1024)} KB`;
    const ico=f.name.endsWith('.pdf')?'üìÑ':f.name.endsWith('.zip')?'üì¶':f.name.match(/\.(png|jpg|jpeg)$/)?'üñºÔ∏è':'üìù';
    const div=document.createElement('div');
    div.className='uf-item';
    div.innerHTML=`<span class="uf-ico">${ico}</span><span class="uf-name">${f.name}</span><span class="uf-size">${size}</span><button class="uf-del" onclick="this.closest('.uf-item').remove()">√ó</button>`;
    container.appendChild(div);
  });
}

// ‚îÄ‚îÄ ADD PROJECT ‚îÄ‚îÄ
function addProject(){
  const list=document.getElementById('manualProjects');
  const div=document.createElement('div');div.className='proj-card';
  div.innerHTML=`
    <div class="form-row"><div class="fg"><label>Project Title</label><input type="text" placeholder="My Awesome Project" style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;"/></div></div>
    <div class="form-row full" style="margin-top:8px;"><div class="fg"><label>Description</label><textarea placeholder="What did you build?" style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;min-height:60px;resize:vertical;"></textarea></div></div>
    <div class="form-row" style="margin-top:8px;">
      <div class="fg"><label>GitHub URL</label><input type="url" placeholder="https://github.com/..." style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;"/></div>
      <div class="fg"><label>Live URL</label><input type="url" placeholder="https://..." style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;"/></div>
    </div>
    <button onclick="this.closest('.proj-card').remove()" style="margin-top:8px;background:rgba(248,113,113,0.08);border:1px solid rgba(248,113,113,0.2);border-radius:6px;color:#f87171;font-size:11px;padding:4px 10px;cursor:none;font-family:'DM Sans',sans-serif;">Remove</button>`;
  list.appendChild(div);
}

// ‚îÄ‚îÄ ADD EXPERIENCE ‚îÄ‚îÄ
function addExperience(){
  const list=document.getElementById('expList');
  const div=document.createElement('div');div.className='proj-card';
  div.innerHTML=`
    <div class="form-row">
      <div class="fg"><label>Company / Organisation</label><input type="text" placeholder="TechCorp Inc." style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;"/></div>
      <div class="fg"><label>Role</label><input type="text" placeholder="ML Intern" style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;"/></div>
    </div>
    <div class="form-row" style="margin-top:8px;">
      <div class="fg"><label>Start Date</label><input type="month" style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;"/></div>
      <div class="fg"><label>End Date</label><input type="month" style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;"/></div>
    </div>
    <div class="form-row full" style="margin-top:8px;"><div class="fg"><label>What you did</label><textarea placeholder="Describe your responsibilities and achievements..." style="background:rgba(255,255,255,0.03);border:1px solid var(--border);border-radius:8px;padding:8px 10px;color:var(--white);font-size:12px;font-family:'DM Sans',sans-serif;outline:none;width:100%;min-height:60px;resize:vertical;"></textarea></div></div>
    <button onclick="this.closest('.proj-card').remove()" style="margin-top:8px;background:rgba(248,113,113,0.08);border:1px solid rgba(248,113,113,0.2);border-radius:6px;color:#f87171;font-size:11px;padding:4px 10px;cursor:none;font-family:'DM Sans',sans-serif;">Remove</button>`;
  list.appendChild(div);
}

// ‚îÄ‚îÄ FRESHER TOGGLE ‚îÄ‚îÄ
function toggleFresher(){
  const t=document.getElementById('fresherToggle');
  t.classList.toggle('on');
  const form=document.getElementById('exp-form');
  form.style.opacity=t.classList.contains('on')?'0.3':'1';
  form.style.pointerEvents=t.classList.contains('on')?'none':'all';
}
</script>
</body>
</html>